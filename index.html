<!DOCTYPE html>
<html>
	<head>
		<title>Rock, Paper, Scissors</title>
		<meta charset="UTF-8" />
	</head>
	<body>
		<header>
			<h1>ROCK,PAPER,SCISSORS GAME</h1>
		</header>

		<main>
			<div class="button-container">
				<button class="button">ROCK</button>
				<button class="button">PAPER</button>
				<button class="button">SCISSORS</button>
			</div>
			<div id="score-container"></div>
			<div>Your Score:<span id="player-score"></span></div>
			<div>Computer Score:<span id="computer-score"></span></div>
		</main>

		<script>
			let playerScore = 0;
			let computerScore = 0;
			let outcome = 0;

			function computerPlay() {
				let arrayGame = ["ROCK", "PAPER", "SCISSORS"];
				let randomValue =
					arrayGame[Math.floor(Math.random() * arrayGame.length)];
				return randomValue;
			}

			let buttons = document.querySelectorAll(".button");

			buttons.forEach(button => {
				button.addEventListener("click", function () {
					playerResult = button.textContent;
					game();
				});
			});

			function playRound(playerSelection, computerSelection) {
				let result = document.querySelector("#score-container");
				let player = document.querySelector("#player-score");
				let computer = document.querySelector("#computer-score");

				if (playerSelection === computerSelection) {
					result.textContent = "That round is a draw!";
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = 0;
				} else if (
					playerSelection == "ROCK" &&
					computerSelection == "SCISSORS"
				) {
					result.textContent = "You win! Rock beats Scissors";
					playerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = 1;
				} else if (playerSelection == "ROCK" && computerSelection == "PAPER") {
					result.textContent = "You lose! Paper beats Rock";
					computerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = -1;
				} else if (
					playerSelection == "PAPER" &&
					computerSelection == "SCISSORS"
				) {
					result.textContent = "You lose! Scissors beats Paper";
					computerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = -1;
				} else if (playerSelection == "PAPER" && computerSelection == "ROCK") {
					result.textContent = "You win! Paper beats Rock";
					playerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = 1;
				} else if (
					playerSelection == "SCISSORS" &&
					computerSelection == "ROCK"
				) {
					result.textContent = "You lose! Rock beats Scissors";
					computerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = -1;
				} else if (
					playerSelection == "SCISSORS" &&
					computerSelection == "PAPER"
				) {
					result.textContent = "You win! Scissors beats Paper";
					playerScore += 1;
					player.textContent = playerScore;
					computer.textContent = computerScore;
					outcome = 1;
				} else {
				}
			}

			function game() {
				playerSelection = playerResult;
				computerSelection = computerPlay();
				playRound(playerSelection, computerSelection);

				let player = document.querySelector("#player-score");
        let computer = document.querySelector("#computer-score");
        let result = document.querySelector("#score-container");

				if (playerScore === 3) {
					alert("You won!");
					computerScore = 0;
          playerScore = 0;
          player.textContent = "";
          computer.textContent = "";
          result.textContent=""
				} else if (computerScore === 3) {
					alert("You lost! Try again");
					computerScore = 0;
					playerScore = 0;
					player.textContent = "";
          computer.textContent = "";
          result.textContent="";
				}
			}
		</script>
	</body>
</html>
